<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Billy Bob's Spin-O-Matic!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: "Trebuchet MS", system-ui, sans-serif;
      background: #F8EDE3;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      color: #2A4C7F;
    }

    .wrapper {
      max-width: 480px;
      padding: 12px 16px 16px;
    }

    .game-header {
      width: 320px;
      max-width: 100%;
      margin: 10px auto 0;
      display: block;
    }

    .wheel-container {
      position: relative;
      width: min(320px, 80vw);
      margin: -30px auto 8px;
    }

    #wheel {
      width: 100%;
      height: auto;
      display: block;
      transform: rotate(0deg);
      transition: transform 4s cubic-bezier(0.25, 0.1, 0.25, 1);
    }

    .arrow-overlay {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: 90px;
      top: -18%;
      z-index: 5;
      pointer-events: none;
    }

    .whirl-btn {
      width: 260px;
      max-width: 90%;
      cursor: pointer;
      margin: 6px auto 0;
      display: block;
    }

    .result {
      margin-top: 14px;
      font-size: 1rem;
      min-height: 3em;
      line-height: 1.4;
      color: #2A4C7F;
    }

    .tagline {
      margin-top: 12px;
      font-size: 0.9rem;
      color: #7a6c5d;
    }
  </style>
</head>

<body>

  <div class="wrapper">

    <img
      src="https://www.billybobsparlour.com/wp-content/uploads/2025/12/game-header.png"
      alt="Billy Bob's Spin-O-Matic"
      class="game-header"
    >

    <div class="wheel-container">
      <img
        id="wheel"
        src="https://www.billybobsparlour.com/wp-content/uploads/2025/12/Wheel.png"
        alt="Spin Wheel"
      >
      <img
        class="arrow-overlay"
        src="https://www.billybobsparlour.com/wp-content/uploads/2025/12/Arrow.png"
        alt="Pointer"
      >
    </div>

    <img
      id="spinButton"
      src="https://www.billybobsparlour.com/wp-content/uploads/2025/12/Give-it-a-whirl.png"
      alt="Give it a whirl"
      class="whirl-btn"
    >

    <div id="result" class="result"></div>

    <p class="tagline">Billy Bob's — tastes like happiness!</p>
  </div>

  <script>
    const wheel = document.getElementById("wheel");
    const spinButton = document.getElementById("spinButton");
    const resultDiv = document.getElementById("result");

    // Pool of silly real US laws with reasons
    const crazyLaws = [
      {
        law: "In Alabama, it's illegal to walk around with an ice-cream cone in your back pocket.",
        reason: "WHY? Because sneaky people once used this trick to lure horses away without ‘officially’ stealing them!"
      },
      {
        law: "In Arizona, it's illegal for a donkey to sleep in a bathtub.",
        reason: "WHY? A rancher’s donkey once floated away during a flood while snoozing in an old tub!"
      },
      {
        law: "In Louisiana, you're not allowed to tie an alligator to a fire hydrant.",
        reason: "WHY? Firefighters kept discovering gators chained to their hydrants — not ideal during emergencies!"
      },
      {
        law: "In Maine, it’s against the law to step out of a plane while it’s flying.",
        reason: "WHY? Believe it or not, someone tried it — so lawmakers decided to make things crystal clear!"
      }
    ];

    function getRandomCrazyLaw() {
      const item = crazyLaws[Math.floor(Math.random() * crazyLaws.length)];
      return `${item.law}<br><em>${item.reason}</em>`;
    }

    const segments = [
      {
        label: "Ice Cream Flavour Frenzy",
        text: "Take turns naming ice cream flavours — no repeats! First person to hesitate is out."
      },
      {
        label: "Pancake Toppings Dash",
        text: "In 15 seconds, how many pancake toppings can you name as a table? Quickfire round!"
      },
      {
        label: "Milkshake Tongue Twister",
        text: "Try saying this 3 times fast: ‘Milky minty milkshakes make me mighty messy.’ Take turns!"
      },
      {
        label: "Tumbleweed Tongue Twister",
        text: "Try saying this 3 times fast: ‘Ten tiny tumbleweeds twirled together.’ Harder than it looks!"
      },
      {
        label: "Billy Bob’s Memory Game",
        text: "Start with: ‘I went to Billy Bob’s and I had…’ Each person repeats the list AND adds one new item."
      },
      {
        label: "States Showdown",
        text: "Take turns naming U.S. states — no repeats! How long can your table last?"
      },
      {
        label: "Guess the Food",
        text: "Someone secretly picks a Billy Bob’s food item. Everyone else asks yes/no questions until someone guesses it!"
      },
      {
        label: "Crazy U.S. Law!",
        text: () => getRandomCrazyLaw()
      },
      {
        label: "Another Crazy U.S. Law!",
        text: () => getRandomCrazyLaw()
      }
    ];

    const segmentCount = segments.length;
    const segmentAngle = 360 / segmentCount;

    let isSpinning = false;
    let currentRotation = 0;

    spinButton.addEventListener("click", () => {
      if (isSpinning) return;
      isSpinning = true;
      resultDiv.textContent = "";

      const chosenIndex = Math.floor(Math.random() * segmentCount);
      const fullTurns = 5;

      const chosenCenterAngle = chosenIndex * segmentAngle + segmentAngle / 2;
      const targetAngle = 360 - chosenCenterAngle;

      const base = currentRotation % 360;
      let diff = targetAngle - base;
      if (diff < 0) diff += 360;

      const extra = fullTurns * 360 + diff;
      const stopAngle = currentRotation + extra;
      currentRotation = stopAngle;

      // spin
      wheel.style.transition = "transform 4s cubic-bezier(0.25, 0.1, 0.25, 1)";
      wheel.style.transform = `rotate(${stopAngle}deg)`;

      wheel.addEventListener(
        "transitionend",
        () => {
          const seg = segments[chosenIndex];
          const resultText =
            typeof seg.text === "function" ? seg.text() : seg.text;
          resultDiv.innerHTML = `<strong>${seg.label}</strong><br>${resultText}`;
          isSpinning = false;

          // Reset rotation so it never grows huge (prevents glitches after many spins)
          setTimeout(() => {
            wheel.style.transition = "none";
            currentRotation = currentRotation % 360;
            wheel.style.transform = `rotate(${currentRotation}deg)`;
            // force reflow so next spin transition works
            void wheel.offsetWidth;
            wheel.style.transition =
              "transform 4s cubic-bezier(0.25, 0.1, 0.25, 1)";
          }, 50);
        },
        { once: true }
      );
    });
  </script>

</body>
</html>
